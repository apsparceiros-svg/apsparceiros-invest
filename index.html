<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>APSPARCEIROS Invest — Dashboard Premium (Tela Cheia)</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<style>
:root{
  --bg:#070707;
  --panel:#0f0f0f;
  --muted:#9e9e9e;
  --gold:#c9a84b;
  --card:#121212;
  --accent:#e6e6e6;
}
*{box-sizing:border-box;font-family:Inter,system-ui,Arial;color:var(--accent);margin:0;padding:0}
html,body{
  height:100%;
  width:100%;
  overflow:hidden;
  background:linear-gradient(180deg,#040404,#0a0a0a);
  -webkit-font-smoothing:antialiased;
  font-size:17px;
  transform-origin: top left;
  transform: scale(1.00);
}
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:20px 28px;
  border-bottom:1px solid rgba(255,255,255,0.04);
}
.brand{font-weight:800;color:var(--gold);letter-spacing:0.6px;font-size:20px}
.header .meta{color:var(--muted);font-size:14px}
.container{
  display:flex;
  height:calc(100vh - 72px);
  width:100%;
  gap:28px;
  padding:28px;
  overflow:hidden;
}
.sidebar{
  width:22%;
  min-width:300px;
  background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
  border-radius:12px;
  padding:18px;
  overflow-y:auto;
  scrollbar-width:thin;
}
.content{
  flex:1;
  background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(255,255,255,0.00));
  border-radius:12px;
  padding:22px;
  overflow-y:auto;
  scrollbar-width:thin;
}
.section-title{font-weight:700;color:var(--gold);margin-bottom:10px}
.small{font-size:13px;color:var(--muted)}
.project-card{
  background:var(--card);
  padding:14px;
  border-radius:10px;
  margin-bottom:14px;
  display:flex;
  gap:12px;
  flex-direction:column;
  border:1px solid rgba(255,255,255,0.03);
  cursor:pointer;
}
.project-card .info{flex:1;width:100%}
.kpi{display:flex;gap:10px;margin-top:10px;flex-wrap:wrap}
.kpi .item{
  background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(255,255,255,0.00));
  padding:10px;
  border-radius:8px;
  min-width:90px;
  text-align:center
}
.kpi .value{font-weight:700;color:var(--gold);margin-top:6px}
.controls label{display:block;font-size:12px;color:var(--muted);margin-top:8px}
.controls input[type=text],
.controls input[type=number],
.project-card input[type=text],
.project-card input[type=number]{
    background-color:#1e1e1e;
    color:#fff;
    border:1px solid #c9a84b;
    padding:8px;
    border-radius:6px;
    width:100%;
    margin-bottom:6px;
}
.project-card input:focus{outline:2px solid #c9a84b;background-color:#292929}
.button{
  background:var(--gold);
  color:#0b0b0b;
  border:none;
  padding:10px 14px;
  border-radius:8px;
  cursor:pointer;
  font-weight:700;
}
.button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--accent)}
.card{
  background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(255,255,255,0.00));
  padding:14px;
  border-radius:10px;
  margin-bottom:14px;
  border:1px solid rgba(255,255,255,0.03)
}
.tooltip{position:relative;display:inline-block}
.tooltip .tt{
  visibility:hidden;
  width:260px;
  background:#0c0c0c;
  color:var(--muted);
  text-align:left;
  border-radius:6px;
  padding:10px;
  position:absolute;
  z-index:10;
  bottom:130%;
  left:50%;
  transform:translateX(-50%);
  opacity:0;
  transition:opacity .12s;
}
.tooltip:hover .tt{visibility:visible;opacity:1}
#chartPortfolio, #chartFluxo, #chartReceitas, #chartCustos {
  min-height:360px;
}
#detailModal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.9);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 200;
}
.modal-inner {
  width: 94%;
  max-width: 1200px;
  max-height: 92vh;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
  border-radius: 14px;
  padding: 20px;
  border:1px solid rgba(255,255,255,0.05);
  overflow:auto;
  position: relative;
}
.modal-close {
  position: absolute;
  right: 16px;
  top: 14px;
  background: transparent;
  border: none;
  color: var(--gold);
  font-size: 22px;
  cursor: pointer;
}
.modal-tabs { display:flex; gap:10px; margin-bottom:14px; }
.tab-btn {
  background:transparent;
  border:1px solid rgba(255,255,255,0.04);
  padding:8px 14px;
  border-radius:8px;
  color:var(--accent);
  cursor:pointer;
}
.tab-btn.active { background:var(--gold); color:#0b0b0b; border-color:var(--gold) }
.stats-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:10px; margin-top:12px }
.stat { background:var(--card); padding:12px; border-radius:8px; border:1px solid rgba(255,255,255,0.02) }
@media(max-width:1100px){
  html,body{transform:scale(1);overflow:auto}
  .container{flex-direction:column;padding:18px;gap:18px;height:auto}
  .sidebar{width:auto;min-width:unset}
}
</style>
</head>
<body>

<header class="header">
  <div class="brand">APSPARCEIROS Invest</div>
  <div class="meta">Dashboard · Portfólio · Proteção</div>
</header>

<div id="loginModal" style="position:fixed;inset:0;background:rgba(0,0,0,0.85);display:flex;align-items:center;justify-content:center;z-index:50">
  <div style="background:#0b0b0b;padding:28px;border-radius:12px;width:420px;border:1px solid rgba(255,255,255,0.05);box-shadow:0 0 15px rgba(201,168,75,0.4);transition:all 0.3s ease" id="loginBox">
    <h2 style="margin-top:0;color:var(--gold);text-align:center">Acesso Premium</h2>
    <p class="small" style="margin-bottom:16px;text-align:center;color:var(--muted)">Digite a senha para desbloquear o painel completo</p>
    <input id="pwd" type="password" placeholder="Senha" style="width:100%;padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--accent);transition:border 0.2s, box-shadow 0.2s">
    <div style="display:flex;gap:8px;margin-top:18px;justify-content:flex-end">
      <button id="btnLogin" class="button" style="flex:1">Entrar</button>
    </div>
    <p class="small" style="margin-top:12px;color:var(--muted);text-align:center">Esqueceu a senha? <strong>Entre em contato!</strong></p>
  </div>
</div>

<div class="container" id="app" style="display:none">
  <aside class="sidebar">
    <div class="section-title">Portfólio</div>
    <div id="projectsList"></div>

    <div class="card">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div><strong>Filtrar</strong><div class="small">por indicador</div></div>
        <div><button id="btnNew" class="button">+ Novo</button></div>
      </div>
      <div class="controls" style="margin-top:10px">
        <label>Busca</label><input id="search" type="text" placeholder="Pesquisar projeto...">
        <label class="small">Mostrar</label>
        <select id="showIndicators"><option value="all">Todos</option><option value="vgv">VGV</option><option value="irr">TIR</option></select>

        <hr style="border:none;border-top:1px solid rgba(255,255,255,0.03);margin:10px 0">

        <div><strong>Condições de Venda</strong></div>
        <label>Desconto Pré-lançamento (%)</label>
        <input id="discountPre" type="number" min="0" max="100" step="0.1" value="10">
        <label>Meses Pré-lançamento</label>
        <input id="preLaunchMonths" type="number" min="1" step="1" value="2">

        <label>Desconto Lançamento (%)</label>
        <input id="discountLaunch" type="number" min="0" max="100" step="0.1" value="5">
        <label>Meses Lançamento</label>
        <input id="launchMonths" type="number" min="1" step="1" value="3">

        <label>Entrada (%)</label>
        <input id="entradaPct" type="number" min="0" max="100" step="0.1" value="30">

        <label>Parcelas da entrada (nº)</label>
        <input id="entradaMonths" type="number" min="1" step="1" value="6">

        <label>Parcelas do saldo (nº)</label>
        <input id="parcelasRestantes" type="number" min="1" step="1" value="24">
      </div>
    </div>
  </aside>

  <main class="content">
    <div style="display:flex;gap:8px;align-items:center">
      <button id="btnPublish" class="button">Salvar alterações</button>
    </div>

    <div class="card">
      <div class="section-title">Portfólio (Resumo)</div>
      <canvas id="chartPortfolio"></canvas>
    </div>

    <div class="card">
      <div class="section-title">Fluxo de Caixa</div>
      <canvas id="chartFluxo"></canvas>
    </div>

    <div class="card">
      <div class="section-title">Receitas x Custos</div>
      <canvas id="chartReceitas"></canvas>
      <canvas id="chartCustos"></canvas>
    </div>
  </main>
</div>

<div id="detailModal">
  <div class="modal-inner">
    <button class="modal-close" onclick="closeModal()">×</button>
    <div class="modal-tabs">
      <button class="tab-btn active" data-tab="info">Informações</button>
      <button class="tab-btn" data-tab="kpis">KPIs</button>
    </div>
    <div id="modalContent"></div>
  </div>
</div>

<script>
// ===== Login =====
document.getElementById('btnLogin').addEventListener('click',()=>{
  const pwd=document.getElementById('pwd').value;
  if(pwd==='premium123'){ // senha exemplo
    document.getElementById('loginModal').style.display='none';
    document.getElementById('app').style.display='flex';
  } else {
    alert('Senha incorreta');
  }
});

// ===== Data =====
let projects=[{
  id:1,name:'Projeto A',city:'São Paulo',units:120,area:60,price_m2:8000,cost_m2:5000,
  months:24,pre_launch_sales:20,launch_sales:50,monthly_sales:50
},{
  id:2,name:'Projeto B',city:'Rio de Janeiro',units:80,area:75,price_m2:9000,cost_m2:5500,
  months:30,pre_launch_sales:15,launch_sales:40,monthly_sales:45
}];

// ===== Render =====
function renderProjects(){
  const container=document.getElementById('projectsList');
  container.innerHTML='';
  projects.forEach(p=>{
    const div=document.createElement('div');
    div.className='project-card';
    div.innerHTML=`
      <div class="info"><strong>${p.name}</strong><div class="small">${p.city}</div></div>
      <div class="kpi">
        <div class="item">VGV<div class="value">R$ ${(p.units*p.area*p.price_m2).toLocaleString()}</div></div>
        <div class="item">Custo<div class="value">R$ ${(p.units*p.area*p.cost_m2).toLocaleString()}</div></div>
      </div>`;
    div.addEventListener('click',()=>openModal(p));
    container.appendChild(div);
  });
}
renderProjects();

// ===== Modal =====
function openModal(p){
  const modal=document.getElementById('detailModal');
  modal.style.display='flex';
  const content=document.getElementById('modalContent');
  content.innerHTML=`
    <div class="stats-grid">
      <div class="stat"><strong>Nome:</strong> ${p.name}</div>
      <div class="stat"><strong>Cidade:</strong> ${p.city}</div>
      <div class="stat"><strong>Unidades:</strong> ${p.units}</div>
      <div class="stat"><strong>Área:</strong> ${p.area} m²</div>
      <div class="stat"><strong>Preço/m²:</strong> R$ ${p.price_m2}</div>
      <div class="stat"><strong>Custo/m²:</strong> R$ ${p.cost_m2}</div>
    </div>`;
}
function closeModal(){document.getElementById('detailModal').style.display='none';}

// ===== Charts =====
const ctxPortfolio=document.getElementById('chartPortfolio').getContext('2d');
new Chart(ctxPortfolio,{type:'bar',data:{labels:projects.map(p=>p.name),datasets:[{label:'VGV',data:projects.map(p=>p.units*p.area*p.price_m2),backgroundColor:'rgba(201,168,75,0.7)'}]},options:{responsive:true,plugins:{legend:{display:false}}}});

const ctxFluxo=document.getElementById('chartFluxo').getContext('2d');
new Chart(ctxFluxo,{type:'line',data:{labels:['M1','M2','M3','M4','M5'],datasets:[{label:'Fluxo',data:[100,200,150,300,250],borderColor:'#c9a84b',fill:false}]}});
</script>

</body>
</html>
